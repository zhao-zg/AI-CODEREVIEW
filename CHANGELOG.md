# 更新日志 / Changelog

本文档记录AI代码审查系统的版本更新和改进历史。

## [v2.1.0] - 2025-11-05

### 🔧 改进
- **日志系统优化**:
  - 改用 `TimedRotatingFileHandler` 按天轮换日志
  - 默认保留30天（1个月）的日志文件
  - 日志文件命名格式：`app.log.YYYY-MM-DD`
  - 自动创建日志目录
  - 可通过 `LOG_RETENTION_DAYS` 环境变量配置保留天数
  - 移除旧的按大小轮换的配置（`LOG_MAX_BYTES`, `LOG_BACKUP_COUNT`）

- **SVN检查点管理**:
  - 将所有 `print()` 输出改为使用 `logger`
  - 确保检查点更新日志正确写入文件

### 🐛 修复
- 修复检查点更新日志格式问题（换行缺失）
- 修复部分日志只输出到控制台不写入文件的问题

## [v2.0.0] - 2025-06-20

### 🎉 重大更新
- **全新UI界面**: 完全重构的现代化Streamlit界面
- **响应式设计**: 支持移动端和各种屏幕尺寸
- **中文字体支持**: 解决图表中文显示乱码问题
- **🔄 智能版本追踪**: 全新的版本追踪系统，避免重复审查

### ✨ 新功能
- **登录认证系统**: 安全的用户认证和会话管理
- **版本追踪系统**:
  - 自动检测重复代码版本
  - 智能缓存和复用审查结果
  - 可配置的数据保留策略
  - 版本统计和管理界面
  - 定时清理旧版本记录
- **数据可视化增强**: 
  - TOP10排行榜图表
  - 时间趋势分析图
  - 评分分布图表
  - 项目活跃度统计
- **高级筛选功能**: 支持按项目、开发者、时间多维度筛选
- **数据导出**: 支持CSV、JSON格式数据导出
- **系统监控**: 内置性能监控和系统信息显示
- **帮助文档**: 内置帮助系统和使用指南

### 🔧 工具和脚本
- **一键启动脚本**: `run_ui.bat` (Windows) 和 `run_ui.sh` (Linux/Mac)
- **系统状态检查器**: `check_status.py` 用于诊断系统问题
- **版本追踪管理器**: `version_manager.py` 用于管理版本追踪数据
- **定时清理工具**: `cleanup_versions.py` 自动清理旧版本记录
- **配置文件管理**: 新增 `dashboard_config.py` 支持UI个性化配置

### 📚 文档改进
- **UI使用指南**: 详细的界面功能说明 (`doc/ui_guide.md`)
- **部署指南**: 完整的部署和配置文档 (`doc/deployment_guide.md`)
- **版本追踪指南**: 版本追踪功能详细说明 (`doc/version_tracking_guide.md`)
- **README更新**: 增加新功能介绍和使用说明

### 🛠️ 技术改进
- **兼容性增强**: 支持不同版本的Streamlit
- **错误处理**: 改进异常处理和用户提示
- **性能优化**: 图表渲染优化和内存管理
- **代码重构**: 模块化代码结构，提高可维护性

### 🎨 界面优化
- **现代化设计**: 卡片式布局，美观的UI组件
- **色彩搭配**: 优化的配色方案和视觉效果
- **交互体验**: 改进的用户交互和反馈机制
- **图表美化**: 专业的数据可视化图表

### 🔧 配置增强
- **环境变量管理**: 优化的.env配置文件
- **个性化设置**: 支持UI主题和显示配置
- **缓存机制**: 提升数据加载性能

---

## [v1.x] - 历史版本

### 基础功能
- GitLab/GitHub webhook支持
- SVN定时检查功能
- 多AI模型集成
- 基础的代码审查功能
- 消息推送支持

---

## 🔮 未来计划

### v2.1.0 计划功能
- [ ] 深色模式支持
- [ ] 更多图表类型
- [ ] 数据报表生成
- [ ] API接口文档
- [ ] 多语言支持

### v2.2.0 计划功能  
- [ ] 实时协作功能
- [ ] 高级分析算法
- [ ] 移动端专用界面
- [ ] 插件系统

---

## 📝 版本说明

- **重大版本** (x.0.0): 包含不兼容的重大更改
- **次要版本** (x.y.0): 新功能，向后兼容
- **补丁版本** (x.y.z): 错误修复，向后兼容

## 🤝 贡献者

感谢所有为此项目做出贡献的开发者和用户！

---

*最后更新: 2025年11月5日*
